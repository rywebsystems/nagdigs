<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Nagari Simpang Tonang</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body { font-family: "Poppins", sans-serif; background: #f4f6f8; color: #333; }

    /* Header */
    header {
      text-align: center;
      background: url('https://raw.githubusercontent.com/butarbutar/rsb/refs/heads/main/pictures/potoheader.png') no-repeat center/cover;
      padding: 80px 20px;
      color: white;
    }
    header h1 {
      font-size: clamp(28px, 6vw, 64px);
      font-weight: 800;
      text-shadow: 0 3px 4px rgba(0,0,0,0.6),
                   0 -2px 1px rgba(255,255,255,0.9),
                   2px 2px 6px rgba(0,0,0,0.35);
    }

    /* Running text */
    .marquee {
      width: 100%; overflow: hidden; white-space: nowrap;
      background: #c62828; color: #fff;
      padding: 10px 0; position: sticky; top: 0; z-index: 1000;
    }
    .marquee span {
      display: inline-block; padding-left: 100%;
      animation: scroll 20s linear infinite;
      font-weight: bold; font-size: 15px;
      text-shadow: 1px 1px 0 #000;
    }
    @keyframes scroll { 0% { transform: translateX(100%);} 100% { transform: translateX(-100%);} }

    /* Section */
    section { 
      padding: 60px 20px; 
      max-width: 1100px; 
      margin: auto; 
      opacity: 0; 
      transform: translateY(40px); 
      transition: all 0.8s ease-in-out; 
    }
    section.visible { 
      opacity: 1; 
      transform: translateY(0); 
    }
    section h2 {
      text-align: center; margin-bottom: 30px;
      font-size: 32px; color: #005d40; font-weight: 700;
    }

    /* Profil */
    .profil-container {
      display: flex; flex-wrap: wrap; gap: 30px;
      background: #fff; padding: 25px; border-radius: 15px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    }
    .profil-container img {
      flex: 1 1 250px; max-width: 250px;
      border-radius: 15px; border: 2px solid #ccc;
    }
    .profil-text { flex: 2 1 500px; }
    .profil-text h3 { font-size: 28px; color: #005d40; margin-bottom: 8px; }
    .profil-text h4 { font-size: 20px; margin-bottom: 20px; color: #444; }
    .profil-text p { margin-bottom: 15px; text-align: justify; }

    /* Data perangkat */
    .grid-container {
      display: grid; grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
      gap: 15px;
    }
    .photo-card { text-align: center; cursor: pointer; transition: transform .3s; }
    .photo-card:hover { transform: scale(1.05); }
    .photo-frame { width: 120px; height: 150px; margin: auto; border-radius: 8px; overflow: hidden; border: 1px solid #000; background: #fff; }
    .photo-frame img { width: 100%; height: 100%; object-fit: cover; }
    .caption { font-weight: bold; margin-top: 5px; }
    .position { font-size: 13px; color: #555; }

    /* Lightbox */
    .lightbox {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,0.9); justify-content: center; align-items: center;
      z-index: 2000; flex-direction: column;
    }
    .lightbox img { max-width: 90%; max-height: 80vh; border: 3px solid #fff; border-radius: 12px; }
    .lightbox-caption { margin-top: 10px; font-size: 20px; font-weight: bold; color: #fff; }
    .lightbox-position { font-size: 16px; color: #ccc; }
    .close-lightbox { position: absolute; top: 20px; right: 30px; font-size: 32px; color: #fff; cursor: pointer; }

    /* Lembaga Nagari */
    .card-lembaga{
      width: 100%;
      max-width: 360px;
      margin: 20px auto;
      background: transparent;
      border: 2px solid #6fcf97; 
      border-radius: 16px;
      padding: 20px;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 0 14px rgba(111, 207, 151, 0.6);
    }
    footerr h1 {
    text-align: center;       /* posisi tengah */
    color: #0b0e12;           /* biru */
    font-size: 2em;           /* ukuran agak besar */
    font-weight: bold;
    margin: 20px 0;
  }
    .card-title{
      margin: 0 0 16px 0;
      font-size: 22px;
      font-weight: 700;
      color: #0f7050; 
      text-align: center;
    }
    .lembaga-list{
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 10px;
    }
    .lembaga-list li{
      padding: 12px 16px;
      border-radius: 10px;
      background: rgba(0,0,0,0.05);
      font-weight: 700;
      text-transform: uppercase;
      font-size: 18px;
      color: #000000;
      text-align: center;
      animation: zoom 2s infinite ease-in-out;
    }
    @keyframes zoom {
      0%   { transform: scale(1); }
      50%  { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    /* Peta */
    .map-card { 
      border-radius: 20px; 
      overflow: hidden; 
      box-shadow: 0 8px 25px rgba(0,0,0,.2); 
      margin-top: 20px;
    }
    .map-card iframe { 
      width: 100%; 
      min-height: 400px; 
      border: 0; 
      display: block;
    }

    /* Footer */
    footer {
      background: #005d40; color: #fff; text-align: center;
      padding: 20px; margin-top: 40px;
    }
    zzzzzzzzzzzzzzzzzzzzzzz
    .social-footerr {
margin: 0;
      padding: 30px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: transparent;
      display: flex;
      justify-content: center;
    }

    .social-footerr {
      display: flex;
      gap: 12px; /* jarak tipis */
      flex-wrap: wrap;
      justify-content: center;
    }

    .social-link {
      position: relative;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeUp 0.6s ease forwards;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    @keyframes fadeUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .social-link:nth-child(1) { animation-delay: 0.1s; }
    .social-link:nth-child(2) { animation-delay: 0.2s; }
    .social-link:nth-child(3) { animation-delay: 0.3s; }
    .social-link:nth-child(4) { animation-delay: 0.4s; }
    .social-link:nth-child(5) { animation-delay: 0.5s; }

    .social-link svg {
      width: 22px;
      height: 22px;
      fill: #fff;
    }

    /* Tooltip */
    .social-link::after {
      content: attr(data-label);
      position: absolute;
      bottom: 120%;
      left: 50%;
      transform: translateX(-50%) translateY(10px);
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 6px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .social-link:hover::after {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Warna platform + glow */
    .facebook { background: #1877F2; }
    .facebook:hover { box-shadow: 0 0 12px #1877F2, 0 0 24px #1877F2; }

    .youtube { background: #FF0000; }
    .youtube:hover { box-shadow: 0 0 12px #FF0000, 0 0 24px #FF0000; }

    .linkedin { background: #0A66C2; }
    .linkedin:hover { box-shadow: 0 0 12px #0A66C2, 0 0 24px #0A66C2; }

    .tiktok { background: #000; }
    .tiktok:hover { box-shadow: 0 0 12px #fff, 0 0 24px #fff; }

    .whatsapp { background: #25D366; }
    .whatsapp:hover { box-shadow: 0 0 12px #25D366, 0 0 24px #25D366; }

    zzzzzzzzzzzzzzzzz
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <h1>SELAMAT DATANG<br>WEBSITE RESMI NAGARI SIMPANG TONANG </h1>
  </header>

  <!-- Running Text -->
  <div class="marquee"><span id="runningText"></span></div>

  <!-- Profil -->
  <section id="profil">
    <h2>Profil Wali Nagari</h2>
    <div class="profil-container">
      <img src="https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/1.png" alt="Foto Wali Nagari">
      <div class="profil-text">
        <h3>Drs. YOPRIMADI</h3>
        <h4>Wali Nagari</h4>
        <p>Selamat datang di website resmi Pemerintah Nagari Simpang Tonang. Website ini dirancang untuk memberikan informasi resmi, layanan publik, dan transparansi kegiatan pemerintahan kepada seluruh masyarakat Nagari.</p>
        <p>Website ini membantu menyebarkan informasi, layanan publik digital.</p>
      </div>
    </div>
  </section>

  <!-- Data Perangkat -->
  <section id="perangkat">
    <h2>Data Perangkat Nagari</h2>

    <!-- ðŸ”Ž Search + Sorting utama -->
    <div style="text-align:center; margin-bottom:15px;">
      <input type="text" id="mainSearch" placeholder="Cari nama atau jabatan perangkat..." 
             style="padding:8px 12px; width:60%; border:1px solid #ccc; border-radius:8px;">
      <select id="mainSort" style="padding:8px; border-radius:8px; margin-left:10px;">

      </select>
    </div>

    <div class="grid-container" id="gridContainer"></div>
    <div style="text-align:center; margin-top:20px;">
      <button id="showAllBtn" style="padding:10px 20px; border:none; background:#005d40; color:white; border-radius:6px; cursor:pointer;">
        Lihat Selengkapnya
      </button>
    </div>
  </section>

  <!-- Modal Semua Perangkat -->
  <div id="allModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:3000; overflow:auto;">
    <div style="background:white; margin:40px auto; padding:20px; border-radius:12px; max-width:1000px;">
      <span id="closeModal" style="float:right; font-size:24px; cursor:pointer;">&times;</span>
      <h2 style="text-align:center; color:#005d40;">Semua Data Perangkat</h2>

      <!-- ðŸ”Ž Search + Sorting Modal -->
      <div style="text-align:center; margin-bottom:15px;">
        <input type="text" id="searchInput" placeholder="Cari nama atau jabatan perangkat..." 
               style="padding:8px 12px; width:60%; border:1px solid #ccc; border-radius:8px;">
        <select id="modalSort" style="padding:8px; border-radius:8px; margin-left:10px;">
    
        </select>
      </div>

      <div class="grid-container" id="allGridContainer"></div>

      <!-- ðŸ”¢ Pagination -->
      <div id="pagination" style="text-align:center; margin-top:20px;">
        <button id="prevPage" style="padding:6px 12px; margin:0 5px;">Prev</button>
        <span id="pageInfo"></span>
        <button id="nextPage" style="padding:6px 12px; margin:0 5px;">Next</button>
      </div>
    </div>
  </div>

  <!-- Lembaga Nagari -->
  <section id="lembaga">
    <h2>Lembaga Nagari</h2>
    <div class="card-lembaga">
      <h3 class="card-title">Lembaga Nagari</h3>
      <ul class="lembaga-list">
        <li>BAMUS</li>
        <li>LPMN</li>
        <li>PKK</li>
        <li>BUMNAG</li>
      </ul>
    </div>
  </section>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <span class="close-lightbox" id="closeLightbox">&times;</span>
    <img id="lightboxImg" src="">
    <div class="lightbox-caption" id="lightboxCaption"></div>
    <div class="lightbox-position" id="lightboxPosition"></div>
  </div>
<!--Ststistik-->
<body>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STATISTIK NAGARI</title>
  <!-- Import Google Font Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 0;
    }
    header {
      background: transparent;
      color: #1e3c72;
      text-align: center;
      padding: 15px 10px;
      font-size: 26px;
      font-weight: 600;
      letter-spacing: 1px;
    }
    #searchBox {
      display: block;
      width: 90%;
      max-width: 400px;
      margin: 10px auto 20px auto;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
      font-family: 'Poppins', sans-serif;
      outline: none;
      transition: 0.3s;
    }
    #searchBox:focus {
      border-color: #1e3c72;
      box-shadow: 0 0 5px rgba(30, 60, 114, 0.4);
    }
    table {
      width: 95%;
      margin: 10px auto;
      border-collapse: collapse;
      background: white;
      border-radius: 6px;
      overflow: hidden;
      font-size: 14px;
      text-transform: uppercase; /* Semua data kapital */
    }
    th, td {
      padding: 10px 12px;
      border: 1px solid #e0e0e0;
      text-align: center;
      transition: all 0.2s ease-in-out;
    }
    th {
      background: #f0f4ff;
      color: #1e3c72;
      font-weight: 600;
    }
    tr:nth-child(even) {
      background: #fafafa;
    }
    /* Hover baris */
    tr:hover {
      background: #dbeafe;
      cursor: pointer;
    }
    /* Highlight baris dan kolom */
    td.active, th.active {
      background: #bfdbfe !important;
      color: #1e3c72;
      font-weight: 600;
    }
    .loading, .error {
      text-align: center;
      margin: 20px;
      font-size: 16px;
      color: #666;
    }
  </style>
</head>
<body>
  <header>ðŸ“Š STATISTIK NAGARI</header>

  <!-- Input pencarian -->
  <input type="text" id="searchBox" placeholder="ðŸ” Cari data...">

  <div id="status" class="loading">Memuat data...</div>
  <table id="dataTable" style="display:none;">
    <thead>
      <tr id="tableHead"></tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>

  <script>
    // Ganti link ini dengan link Web App bos (/exec)
    const scriptURL = "https://script.google.com/macros/s/AKfycbwHbiMtFtWLJs_0RkAWInYYsmIPrBAymxqWzEcWFLrLn5DMPwsKDjDPdVngF80c1LLP-w/exec";

    fetch(scriptURL)
      .then(response => response.json())
      .then(data => {
        if (data.error) throw new Error(data.error);

        const tableHead = document.getElementById("tableHead");
        const tableBody = document.getElementById("tableBody");

        // Buat header otomatis dari keys
        if (data.length > 0) {
          Object.keys(data[0]).forEach(key => {
            let th = document.createElement("th");
            th.textContent = key.toUpperCase();
            tableHead.appendChild(th);
          });

          // Isi baris data
          data.forEach(row => {
            let tr = document.createElement("tr");
            Object.values(row).forEach(val => {
              let td = document.createElement("td");
              td.textContent = String(val).toUpperCase();
              tr.appendChild(td);
            });
            tableBody.appendChild(tr);
          });

          document.getElementById("dataTable").style.display = "table";
          document.getElementById("status").style.display = "none";
        } else {
          document.getElementById("status").textContent = "Tidak ada data.";
        }

        // Hover kolom + tap
        const table = document.getElementById("dataTable");
        table.addEventListener("mouseover", highlightCell);
        table.addEventListener("click", highlightCell);

        function highlightCell(e) {
          if (e.target.tagName === "TD" || e.target.tagName === "TH") {
            clearHighlight();
            const cellIndex = e.target.cellIndex;
            const rows = table.rows;

            for (let i = 0; i < rows.length; i++) {
              rows[i].cells[cellIndex].classList.add("active");
            }
            e.target.parentElement.classList.add("active");
          }
        }

        function clearHighlight() {
          table.querySelectorAll("td, th").forEach(cell => {
            cell.classList.remove("active");
            cell.parentElement.classList.remove("active");
          });
        }

        // Fitur pencarian
        const searchBox = document.getElementById("searchBox");
        searchBox.addEventListener("keyup", function () {
          let filter = searchBox.value.toUpperCase();
          let rows = tableBody.getElementsByTagName("tr");

          for (let i = 0; i < rows.length; i++) {
            let rowText = rows[i].textContent || rows[i].innerText;
            if (rowText.toUpperCase().indexOf(filter) > -1) {
              rows[i].style.display = "";
            } else {
              rows[i].style.display = "none";
            }
          }
        });
      })
      .catch(error => {
        console.error("Error:", error);
        document.getElementById("status").textContent = "Gagal memuat data.";
        document.getElementById("status").className = "error";
      });
  </script>
</body>
</body>

  <!-- Peta -->
  <section id="peta">
    <h2>Lokasi Nagari di Google Maps</h2>
    <div class="map-card">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d15951.190322303404!2d99.9368533!3d0.3830624!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sid!2sid!4v1727172112345"
        allowfullscreen 
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </section>

  <!-- Footerr -->
  <footerr>
    <h1>Media Sosial</h1>
      <div class="social-footerr">

    <a href="#"
       target="_blank" class="social-link facebook" data-label="Facebook">
      <svg viewBox="0 0 24 24"><path d="M22.675 0H1.325C.593 0 0 .593 
      0 1.325v21.351C0 23.407.593 24 
      1.325 24h11.495v-9.294H9.691V11.01h3.129V8.41
      c0-3.1 1.892-4.788 4.658-4.788 
      1.325 0 2.463.098 2.795.143v3.24
      l-1.918.001c-1.504 0-1.796.715-1.796 
      1.764v2.24h3.587l-.467 3.696h-3.12V24h6.116
      C23.407 24 24 23.407 24 22.676V1.325
      C24 .593 23.407 0 22.675 0z"/></svg>
    </a>

    <a href="#"
       target="_blank" class="social-link youtube" data-label="YouTube">
      <svg viewBox="0 0 24 24"><path d="M23.498 6.186a2.974 2.974 0 0 0-2.096-2.107C19.383 
      3.5 12 3.5 12 3.5s-7.383 0-9.402.579A2.974 2.974 0 0 0 
      .502 6.186C0 8.21 0 12 0 12s0 3.79.502 5.814a2.974 
      2.974 0 0 0 2.096 2.107C4.617 20.5 12 20.5 12 20.5s7.383 0 
      9.402-.579a2.974 2.974 0 0 0 2.096-2.107C24 
      15.79 24 12 24 12s0-3.79-.502-5.814zM9.545 
      15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
    </a>

    <a href="#"
       target="_blank" class="social-link linkedin" data-label="LinkedIn">
      <svg viewBox="0 0 24 24"><path d="M20.447 20.452H16.89v-5.569c0-1.328-.027-3.037-1.852-3.037
      -1.853 0-2.136 1.447-2.136 2.941v5.665H9.342V9h3.414v1.561h.049
      c.476-.9 1.637-1.852 3.37-1.852 3.601 0 4.266 2.37 
      4.266 5.455v6.288zM5.337 7.433c-1.104 
      0-2-.896-2-2 0-1.105.896-2 2-2s2 
      .895 2 2c0 1.104-.896 2-2 2zM6.885 
      20.452H3.789V9h3.096v11.452zM22.225 
      0H1.771C.792 0 0 .771 0 1.729v20.542C0 
      23.229.792 24 1.771 24h20.451C23.2 
      24 24 23.229 24 22.271V1.729C24 
      .771 23.2 0 22.222 0h.003z"/></svg>
    </a>

    <a href="#"
       target="_blank" class="social-link tiktok" data-label="TikTok">
      <svg viewBox="0 0 24 24"><path d="M12.02 0h4.548c.118 1.01.48 
      1.956 1.086 2.72.657.828 1.58 1.372 
      2.59 1.513v4.51c-.935.091-1.87-.056-2.732-.418
      v7.346c0 2.082-.84 4.083-2.336 
      5.556-1.423 1.398-3.366 2.142-5.355 
      2.06-2.004.08-3.976-.683-5.433-2.1
      -1.52-1.474-2.332-3.562-2.203-5.671
      .122-2.012 1.11-3.941 2.686-5.264
      1.523-1.318 3.59-2.03 5.637-1.885v4.52
      c-.664-.21-1.415-.112-2.003.261-.61.389-.975
      1.086-.949 1.803-.033.77.368 1.5.991 
      1.905.654.436 1.537.495 2.246.155.732-.35 
      1.2-1.121 1.186-1.93V0z"/></svg>
    </a>

    <a href="https://wa.me/6282169107500"
       target="_blank" class="social-link whatsapp" data-label="WhatsApp">
      <svg viewBox="0 0 24 24"><path d="M20.52 3.48C18.24 1.2 15.24 0 
      12.04 0 5.4 0 .04 5.36.04 12c0 
      2.12.56 4.2 1.6 6.04L0 24l6.12-1.6
      A11.86 11.86 0 0 0 12 24h.04c6.64 
      0 12-5.36 12-12 0-3.2-1.24-6.2-3.52-8.52zM12.04 
      21.5c-2.04 0-4.04-.56-5.8-1.64l-.4-.24-3.64.96.96-3.56-.28-.44A9.56 
      9.56 0 0 1 2.5 12c0-5.28 4.28-9.56 
      9.56-9.56 2.56 0 4.96 1 6.76 
      2.8 1.8 1.8 2.8 4.2 2.8 6.76 0 
      5.28-4.28 9.56-9.56 9.56zm5.28-7.2c-.28-.16-1.64-.8-1.88-.88-.24-.08-.4-.12-.56.12s-.64.88-.8 
      1.04c-.16.16-.28.2-.52.08-.28-.16-1.16-.44-2.2-1.4-.8-.72-1.36-1.64-1.52-1.92-.16-.28-.02-.44.12-.6.12-.12.28-.32.4-.48.12-.16.16-.28.24-.48.08-.16.04-.32-.02-.48-.08-.16-.56-1.36-.76-1.84-.2-.48-.4-.4-.56-.4h-.48c-.16 0-.48.08-.72.36-.24.28-.92.92-.92 
      2.24s.96 2.6 1.08 2.76c.12.16 1.88 2.88 4.56 4.04.64.28 1.16.44 1.56.56.64.2 
      1.24.16 1.72.1.52-.08 1.64-.68 1.88-1.36.24-.68.24-1.24.16-1.36-.08-.12-.28-.2-.56-.36z"/></svg>
    </a>

  </div>

  </footerr>

  <!-- Footer -->
  <footer>
    <p>Â© 2025 Pemerintah Nagari Simpang Tonang. All Rights Reserved.</p>
  </footer>

  <script>
    // Running text
    const runningText = document.getElementById("runningText");
    function updateText() {
      const now = new Date();
      const days = ["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
      const months = ["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
      const dayName = days[now.getDay()];
      const date = now.getDate();
      const month = months[now.getMonth()];
      const year = now.getFullYear();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      runningText.textContent = `Andilan, Jorong Setia Nagari Simpang Tonang , Kecamatan Dua Koto, Kabupaten Pasaman, Provinsi Sumatera Barat, Indonesia | ${dayName}, ${date} ${month} ${year} ${hours}:${minutes}:${seconds}`;
    }
    setInterval(updateText, 1000); updateText();

    // âœ… Data perangkat (array tetap sama dari bos)
    const photos = [
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/1.png", name:"Drs.YOPRIMADI", position:"Wali Nagari"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/2.png", name:"YETRI HARTATO,S.A.P", position:"Sekretaris Nagari"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/3.png", name:"UMI NURLAILI,S.PD", position:"Kasi Pemerintahan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/4.png", name:"DONI PURNA,S.A.P", position:"Kasi Kesejahteraan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/5.png", name:"YETRI HARTATO,S.A.P", position:"Kasi Pelayanan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/7.png", name:"YUDASMAN,S.A.P", position:"Kaur Perencanaan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/6.png", name:"HADEDI,S.Pd", position:"Kaur Umum"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/8.png", name:"SEPNIERITA,S.A.P", position:"Kaur Keuangan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/9.png", name:"RIKO WINALDI,S.Pd", position:"Jorong"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/18.png", name:"ELPA RAHMA JULIA,S.Pd", position:"Staf Perencanaan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/15.png", name:"RINA ELVIA,S.PD", position:"Kaur Keuangan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/16.png", name:"SEPRI YANI,S.A.P", position:"Kaur Keuangan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/12.png", name:"YESI FITRIANI", position:"Staf Kesejahteraan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/13.png", name:"PENLI AHMADI,S.A.P", position:"Staf Kesejahteraan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/19.png", name:"WIRDA YANI,Sos.i", position:"Staf Pelayanan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/11.png", name:"RAHMAH ANNISA,S.Pd", position:"Staf Pemerintahan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/14.png", name:"YASTINA FEBRIANTI", position:"Staf Umum"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/17.png", name:"MITRAWISAL", position:"Operator Nagari"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/196.png", name:"RIKA ANRIANI,S.Pd", position:"Petugas Keagamaan"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/20.png", name:"YULI HANDEMI,A.md", position:"0"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/21.png", name:"NANDO PRASETYO", position:"Satpam"},
      {url:"https://raw.githubusercontent.com/rywebsystems/nagdigs/refs/heads/main/simton/imgperangkat/22.png", name:"YETMEI ANTI", position:"K3"},





      // ... (lanjutkan data sesuai punya bos)
    ];

    const gridContainer = document.getElementById('gridContainer');
    const allGridContainer = document.getElementById('allGridContainer');
    const showAllBtn = document.getElementById('showAllBtn');
    const modal = document.getElementById('allModal');
    const closeModal = document.getElementById('closeModal');
    const searchInput = document.getElementById('searchInput');
    const mainSearch = document.getElementById('mainSearch');
    const mainSort = document.getElementById('mainSort');
    const modalSort = document.getElementById('modalSort');

    let currentPage = 1;
    const itemsPerPage = 12;

    function createCard(p) {
      const card = document.createElement('div');
      card.className = 'photo-card';
      card.dataset.src = p.url;
      card.dataset.name = p.name;
      card.dataset.position = p.position;
      card.innerHTML = `
        <div class="photo-frame"><img src="${p.url}" alt="${p.name}"></div>
        <div class="caption">${p.name}</div>
        <div class="position">${p.position}</div>
      `;
      return card;
    }

    function sortData(data, sortType) {
      return data.sort((a, b) => {
        
      });
    }

    // Halaman utama: tampil 4 perangkat
    function generateCards(search = "", sortType = "nameAsc") {
      gridContainer.innerHTML = "";
      let filtered = photos.filter(p =>
        p.name.toLowerCase().includes(search.toLowerCase()) ||
        p.position.toLowerCase().includes(search.toLowerCase())
      );

      let sorted = sortData(filtered, sortType);

      sorted.slice(0, 4).forEach(p => {
        gridContainer.appendChild(createCard(p));
      });

      showAllBtn.style.display = sorted.length > 6 ? "inline-block" : "none";
    }

    // Modal: semua perangkat + pagination
    function generateAllCards(search = "", sortType = "nameAsc") {
      allGridContainer.innerHTML = "";
      let filtered = photos.filter(p =>
        p.name.toLowerCase().includes(search.toLowerCase()) ||
        p.position.toLowerCase().includes(search.toLowerCase())
      );

      let sorted = sortData(filtered, sortType);

      if (sorted.length === 0) {
        allGridContainer.innerHTML = "<p style='text-align:center; color:red;'>Tidak ada hasil ditemukan.</p>";
        document.getElementById('pagination').style.display = "none";
        return;
      }

      let totalPages = Math.ceil(sorted.length / itemsPerPage);
      if (currentPage > totalPages) currentPage = totalPages;
      let start = (currentPage - 1) * itemsPerPage;
      let end = start + itemsPerPage;

      sorted.slice(start, end).forEach(p => {
        allGridContainer.appendChild(createCard(p));
      });

      document.getElementById('pageInfo').textContent = `Halaman ${currentPage} dari ${totalPages}`;
      document.getElementById('pagination').style.display = totalPages > 1 ? "block" : "none";

      document.getElementById('prevPage').disabled = currentPage === 1;
      document.getElementById('nextPage').disabled = currentPage === totalPages;

      document.getElementById('prevPage').onclick = () => {
        if (currentPage > 1) {
          currentPage--;
          generateAllCards(searchInput.value, modalSort.value);
        }
      };
      document.getElementById('nextPage').onclick = () => {
        if (currentPage < totalPages) {
          currentPage++;
          generateAllCards(searchInput.value, modalSort.value);
        }
      };
    }

    // Event Halaman utama
    mainSearch.addEventListener('input', () => {
      generateCards(mainSearch.value, mainSort.value);
    });
    mainSort.addEventListener('change', () => {
      generateCards(mainSearch.value, mainSort.value);
    });

    // Event Modal
    searchInput.addEventListener('input', () => {
      currentPage = 1;
      generateAllCards(searchInput.value, modalSort.value);
    });
    modalSort.addEventListener('change', () => {
      currentPage = 1;
      generateAllCards(searchInput.value, modalSort.value);
    });

    // tombol lihat semua
    showAllBtn.addEventListener('click', () => {
      searchInput.value = "";
      modalSort.value = "nameAsc";
      currentPage = 1;
      generateAllCards("", "nameAsc");
      modal.style.display = "block";
    });

    // tutup modal
    closeModal.onclick = () => modal.style.display = "none";
    window.onclick = (e) => { if (e.target == modal) modal.style.display = "none"; };

    // Load awal
    generateCards("", "nameAsc");

    // âœ… Lightbox untuk grid & modal
    const lightbox=document.getElementById('lightbox');
    const lightboxImg=document.getElementById('lightboxImg');
    const lightboxCaption=document.getElementById('lightboxCaption');
    const lightboxPosition=document.getElementById('lightboxPosition');

    document.body.addEventListener('click', e => {
      const card = e.target.closest('.photo-card');
      if (card) {
        lightbox.style.display = 'flex';
        lightboxImg.src = card.dataset.src;
        lightboxCaption.textContent = card.dataset.name;
        lightboxPosition.textContent = card.dataset.position;
      }
    });
    document.getElementById('closeLightbox').onclick = () => lightbox.style.display = 'none';
    lightbox.onclick = e => { if (e.target === lightbox) lightbox.style.display = 'none'; };

    // âœ… Animasi fade-in saat scroll
    const sections = document.querySelectorAll("section");
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.classList.add("visible");
        }
      });
    }, {threshold: 0.2});
    sections.forEach(section=>observer.observe(section));
  </script>
  
</body>

</html>
